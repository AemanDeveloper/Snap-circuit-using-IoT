<!DOCTYPE html>
<html lang="en">
  <head>
      <title>Flashing Lamp Circuit</title>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
      <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Oswald">
      <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans">
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
      <link href="assets/style.css" rel="stylesheet">
  </head>
  <body class="w3-light-grey">
  <!-- Navigation bar with social media icons -->
    <nav class="w3-bar w3-black w3-hide-small">
      <a href="../index.html" class="w3-bar-item w3-button">Home</a>
      <a href="#about" class="w3-bar-item w3-button">About</a>
      <div class="w3-dropdown-hover">
          <button class="w3-button">More</button>
          <div class="w3-dropdown-content w3-bar-block w3-card-4">
              <a href="#services" class="w3-bar-item w3-button">Services</a>
              <a href="#team" class="w3-bar-item w3-button">Team</a>
              <a href="#contact" class="w3-bar-item w3-button">Contact</a>
          </div>
      </div>
      <a href="#" class="w3-bar-item w3-button w3-right"><i class="fa fa-search"></i></a>
    </nav>


    <main class="w3-content" style="max-width:1600px">
      <article class="w3-container w3-white w3-margin w3-padding-large">
            <!-- Article content -->
            <!-- Header -->
        <header class="w3-container w3-center w3-padding-48 w3-white">
            <h1 class="w3-jumbo w3-text-black w3-hide-small"><b>Flashing Lamp Circuit</b></h1>
            <img class="w3-image" src="../assets/images/Flashing_Lamp_Circuit .jpg" alt="Flashing Lamp Circuit" width="1600" height="1060">            
        </header>
        <div class="w3-row w3-padding w3-border">
          <!-- Blog entries with alternating image and text layout -->
          <p>
            Turn on the slide switch, the lamp will flash and then stop. 
        </p>
       </div>
      </article>
    </main>
    <div class="button-container">
      <button onclick="turnRelayOn('http://172.20.10.10/1/off')">ON</button>
      <button onclick="turnRelayOff('http://172.20.10.10/1/on')">OFF</button>
  </div>
  
  <script>
      function turnRelayOn(url) {
          // Send a request to the ESP32 server to turn the relay ON
          var xhttp = new XMLHttpRequest();
          xhttp.onreadystatechange = function () {
              if (this.readyState == 4 && this.status == 200) {
                  // Optionally, you can handle the response from the server here
                  console.log("Relay turned ON");
                  // Call the myAPI function after the relay is turned ON
                  myAPI();
              }
          };
          xhttp.open("GET", url, true);
          xhttp.send();
      }
  
      function turnRelayOff(url) {
          // Send a request to the ESP32 server to turn the relay OFF
          var xhttp = new XMLHttpRequest();
          xhttp.onreadystatechange = function () {
              if (this.readyState == 4 && this.status == 200) {
                  // Optionally, you can handle the response from the server here
                  console.log("Relay turned OFF");
                  // Call the myAPI function after the relay is turned OFF
                  myAPI();
              }
          };
          xhttp.open("GET", url, true);
          xhttp.send();
      }
  
      function myAPI() {
          // Assuming this function is used to fetch the status after relay action
          // You can implement it as required
      }
  </script>
  

    <footer class="w3-container w3-dark-grey" style="padding:32px">
      <a href="#" class="w3-button w3-black w3-padding-large w3-margin-bottom"><i class="fa fa-arrow-up w3-margin-right"></i>To the top</a>
      <p>Powered by <a href="https://www.w3schools.com/w3css/default.asp" target="_blank">w3.css</a></p>
    </footer>

    <script src="assets/main.js"></script>
  </body>
</html>
